<%- include('./partials/header.ejs') %>
  <main class="flex-grow w-full mx-auto px-2 py-12">
    <div class="grid grid-cols-3 md:grid-cols-2 gap-3 ">
      <% people.forEach(user=> { %>
        <div class="bg-gray-500 rounded-xl h-35 w-full p-6 text-white">
          <div class="flex justify-between items-center gap-2">
            <div class="text-black">
              <h1 class="text-black text-3xl">
                <%= user.username %>
              </h1>
              <p>Role: <%= user.role || 'no Role' %>
              </p>
              <p>
                <%= user.email %>
              </p>
            </div>
            <div class="flex gap-2">
              <form action="/promote" method="post">
                <input type="hidden" name="email" value=<%=user.email %>>
                <% if (user.role==='user' ) { %>
                  <button class="bg-gray-700 hover:bg-gray-400 text-white px-3 py-1 rounded ml-auto">promote</button>
                  <% } %>
              </form>
              <form action="/demote" method="post">
                <input type="hidden" name="email" value=<%=user.email %>>
                <% if (user.role==='admin' ) { %>
                  <button class="bg-gray-700 hover:bg-gray-400 text-white px-3 py-1 rounded">Demote</button>
                  <% } %>
              </form>
              <form action="/giveRole" method="post">
                <input type="hidden" name="email" value=<%=user.email %>>
                <% if (user.role===undefined ) { %>
                  <button class="bg-gray-700 hover:bg-gray-400 text-white px-3 py-1 rounded">Give User
                    role</button>
                  <% } %>
              </form>
            </div>
            <!-- my buttons-->
          </div>
        </div>
        <% }); %>
  </main>
  <%- include('./partials/footer.ejs') %>
